#Задача 2 

from __future__ import annotations


def get_cats_info(path: str) -> list[dict[str, str]]:
    """
    Reads cats file where each line is: "id,name,age"
    Returns list of dicts: {"id": ..., "name": ..., "age": ...}

    Handles:
    - FileNotFoundError
    - bad lines (skips invalid lines)
    """
    cats: list[dict[str, str]] = []

    try:
        with open(path, "r", encoding="utf-8") as file:
            for line in file:
                line = line.strip()
                if not line:
                    continue

                parts = line.split(",")
                if len(parts) != 3:
                    continue

                cat_id, name, age = (p.strip() for p in parts)
                if not cat_id or not name or not age:
                    continue

                cats.append({"id": cat_id, "name": name, "age": age})

    except FileNotFoundError:
        return []
    except OSError:
        return []

    return cats


if __name__ == "__main__":
    cats_info = get_cats_info("cats_file.txt")
    print(cats_info)
